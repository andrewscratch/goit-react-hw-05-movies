{"version":3,"file":"static/js/167.8495eb41.chunk.js","mappings":"oPAqCA,I,QACA,EAAe,IAA0B,0D,mBCnC5BA,EAAmBC,EAAAA,EAAAA,QAAH,kQAQbC,EAAAA,GAAAA,MAAAA,GACHA,EAAAA,GAAAA,MAAAA,GAAoBA,EAAAA,GAAAA,MAAAA,GACfA,EAAAA,GAAAA,MAAAA,GACIA,EAAAA,GAAAA,OAAAA,QACNA,EAAAA,GAAAA,QAAAA,OAGHC,EAAaF,EAAAA,EAAAA,KAAH,sJAGRC,EAAAA,GAAAA,MAAAA,GACOA,EAAAA,GAAAA,OAAAA,MACHA,EAAAA,GAAAA,MAAAA,IAINE,EAAeH,EAAAA,EAAAA,OAAH,kTAEdC,EAAAA,GAAAA,MAAAA,GACCA,EAAAA,GAAAA,MAAAA,GACAA,EAAAA,GAAAA,QAAAA,UAICA,EAAAA,GAAAA,UAAAA,GACGA,EAAAA,GAAAA,YAAAA,QAIDA,EAAAA,GAAAA,UAAAA,IAIFG,EAAkBJ,EAAAA,EAAAA,MAAH,wOAIbC,EAAAA,GAAAA,UAAAA,GAGFA,EAAAA,GAAAA,MAAAA,GAGIA,EAAAA,GAAAA,UAAAA,I,SC3CV,SAASI,EAAT,GAAoC,IAAbC,EAAY,EAAZA,SAC1B,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAiBIC,EAAY,kBAAMD,EAAS,GAAf,EAElB,OACE,SAACV,EAAD,WACE,UAACG,EAAD,CAAYI,SAfW,SAAAK,GAE5B,GADOA,EAAIC,iBACU,KAAjBJ,EAAMK,QAAiBL,EAAMM,OAAS,EAGrC,OAFAC,EAAAA,GAAAA,KAAW,0DACXL,IAGFJ,EAASE,GACTE,GACD,EAMG,WACE,SAACN,EAAD,CACEY,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,mBACZC,MAAOZ,EACPa,SA1BoB,SAAAV,GACtBF,EAASE,EAAIW,cAAcF,MAAMG,cACpC,KA0BG,SAACpB,EAAD,CACEa,KAAK,SACLQ,MAAO,CAAEC,gBAAgB,OAAD,OAASC,EAAT,YAKjC,CCzCD,IAAMC,GAAYC,EAAAA,EAAAA,OAAK,kBAAM,6BAAN,IA0CvB,EAxCe,WAAO,IAAD,EACnB,GAA0BrB,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAC1BsB,KAAKC,MAAMC,aAAaC,QAAQ,YAAc,MADhD,eAAOC,EAAP,KAAeC,EAAf,KAIA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAS,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,IAE/CC,EAAAA,EAAAA,YAAU,WACHF,GAELG,EAAAA,GAAAA,iBAAqBH,GAClBI,MAAK,SAAAC,GACJT,EAAUS,GACVZ,aAAaa,QAAQ,SAAUf,KAAKgB,UAAUF,GAC/C,IACAG,OAAM,kBAAM/B,EAAAA,GAAAA,MAAY,6CAAlB,GACV,GAAE,CAACuB,IAWJ,OACE,iCACE,SAACjC,EAAD,CAAae,MAAOkB,EAAWhC,SAXd,SAAAyC,GACfA,IAAWvC,GACbC,EAASsC,GACTV,EAAgB,CAAE7B,MAAOuC,KAEzBhC,EAAAA,GAAAA,KAAW,2DAEd,KAKG,SAAC,EAAAiC,SAAD,CAAUC,UAAU,SAAC,KAAD,IAApB,SACGhB,IAAU,SAACN,EAAD,CAAWM,OAAQA,OAEhC,SAAC,KAAD,CAAgBiB,UAAW,QAGhC,C","sources":["images/loupe.svg","components/SearchMovie/SearchMovie.styled.js","components/SearchMovie/SearchMovie.jsx","pages/Movies.jsx"],"sourcesContent":["var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLoupe(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 458.239 458.239\",\n    style: {\n      enableBackground: \"new 0 0 458.239 458.239\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M438.969,346.349l-78.313-78.313c-5.736-5.736-15.038-5.736-20.775,0l-24.35,24.35l-12.299-12.3 c25.307-30.589,39.081-68.676,39.081-108.881c0-45.72-17.804-88.704-50.134-121.032c-66.892-66.894-175.165-66.902-242.065,0 c-66.738,66.737-66.738,175.327,0,242.065c64.066,64.065,165.587,66.516,232.551,8.831l12.091,12.092l-26.779,26.779 c-5.734,5.733-5.736,15.04,0,20.775l78.313,78.313c25.611,25.613,67.066,25.616,92.679,0 C464.581,413.416,464.584,371.963,438.969,346.349z M271.405,271.465c-55.413,55.412-145.099,55.416-200.516-0.001 c-55.282-55.283-55.282-145.234,0-200.516c55.413-55.412,145.098-55.417,200.516,0c26.78,26.78,41.528,62.385,41.528,100.258 C312.933,209.079,298.185,244.685,271.405,271.465z M418.194,418.253c-14.131,14.132-36.998,14.131-51.129,0l-67.925-67.925 l51.129-51.129l67.926,67.925C432.323,381.252,432.326,404.122,418.194,418.253z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoupe);\nexport default __webpack_public_path__ + \"static/media/loupe.e364eac3c6cbf56da6bab5cebde7ad4d.svg\";\nexport { ForwardRef as ReactComponent };","import styled from '@emotion/styled';\nimport { theme } from '../../services';\n\nexport const SearchbarWrapper = styled.section`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  width: 100vw;\n  min-height: ${theme.sizes[0]}px;\n  padding: ${theme.space[2]}px ${theme.space[5]}px;\n  padding-left: ${theme.space[7]}px;\n  background-color: ${theme.colors.primeBg};\n  box-shadow: ${theme.shadows.prime};\n`;\n\nexport const SearchForm = styled.form`\n  display: flex;\n  width: 100%;\n  max-width: ${theme.sizes[7]}px;\n  background-color: ${theme.colors.prime};\n  border-radius: ${theme.radii[1]}px;\n  overflow: hidden;\n`;\n\nexport const SearchButton = styled.button`\n  display: inline-block;\n  width: ${theme.sizes[0]}px;\n  height: ${theme.sizes[0]}px;\n  border: ${theme.borders.secondary};\n  background-size: 50%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: ${theme.opacities[0]}px;\n  transition: ${theme.transitions.opacity};\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: ${theme.opacities[1]}px;\n  }\n`;\n\nexport const SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: ${theme.fontSizes[4]}px;\n  border: none;\n  outline: none;\n  padding: ${theme.space[1]}px;\n  &::placeholder {\n    font-style: inherit;\n    font-size: ${theme.fontSizes[3]}px;\n  }\n`;","import { useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport loupe from '../../images/loupe.svg';\nimport {\n    SearchbarWrapper,\n    SearchForm,\n    SearchButton,\n    SearchFormInput,\n} from './SearchMovie.styled';\n\nexport function SearchMovie({ onSubmit }) {\n    const [query, setQuery] = useState('');\n\n    const handleChangeInput = evt => {\n        setQuery(evt.currentTarget.value.toLowerCase());\n    };\n\n    const handleSubmitForm = evt => {\n        evt.preventDefault();\n if (query.trim() === '' || query.length < 2) {\n      toast.warn('Searching must be no empty and more than 1 letter');\n      resetForm();\n      return;\n    }\n    onSubmit(query);\n    resetForm();\n  };\n\n  const resetForm = () => setQuery('');\n\n  return (\n    <SearchbarWrapper>\n      <SearchForm onSubmit={handleSubmitForm}>\n        <SearchFormInput\n          type=\"text\"\n          autocomplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies...\"\n          value={query}\n          onChange={handleChangeInput}\n        />\n        <SearchButton\n          type=\"submit\"\n          style={{ backgroundImage: `url(${loupe})` }}\n        ></SearchButton>\n      </SearchForm>\n    </SearchbarWrapper>\n  );\n}\n\nSearchMovie.propTypes = {\n  onSubmit: PropTypes.func,\n};\n   ","import { useState, useEffect, lazy, Suspense } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { API } from 'services';\nimport { Loader } from 'services';\nimport { SearchMovie } from 'components/SearchMovie';\n\nconst MovieList = lazy(() => import('../components/MovieList'));\n\nconst Movies = () => {\n  const [query, setQuery] = useState(null);\n  const [movies, setMovies] = useState(\n    JSON.parse(localStorage.getItem('movies')) || null\n  );\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieName = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!movieName) return;\n\n    API.fetchMovieSearch(movieName)\n      .then(res => {\n        setMovies(res);\n        localStorage.setItem('movies', JSON.stringify(res));\n      })\n      .catch(() => toast.error('Sorry, there are not details of this movie'));\n  }, [movieName]);\n\n  const onSubmitForm = search => {\n    if (search !== query) {\n      setQuery(search);\n      setSearchParams({ query: search });\n    } else {\n      toast.warn('The new search must be different from the current search');\n    }\n  };\n\n  return (\n    <>\n      <SearchMovie value={movieName} onSubmit={onSubmitForm} />\n      <Suspense fallback={<Loader />}>\n        {movies && <MovieList movies={movies} />}\n      </Suspense>\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n};\n\nexport default Movies;"],"names":["SearchbarWrapper","styled","theme","SearchForm","SearchButton","SearchFormInput","SearchMovie","onSubmit","useState","query","setQuery","resetForm","evt","preventDefault","trim","length","toast","type","autocomplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","style","backgroundImage","loupe","MovieList","lazy","JSON","parse","localStorage","getItem","movies","setMovies","useSearchParams","searchParams","setSearchParams","movieName","get","useEffect","API","then","res","setItem","stringify","catch","search","Suspense","fallback","autoClose"],"sourceRoot":""}