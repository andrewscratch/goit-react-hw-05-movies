"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[167],{2167:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(9439),o=t(2791),i=t(1087),a=t(7596),s=(t(5462),t(3122));var c,u,l,p,d=t.p+"static/media/loupe.e364eac3c6cbf56da6bab5cebde7ad4d.svg",h=t(168),f=t(7402),S=f.Z.section(c||(c=(0,h.Z)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 2;\n  display: flex;\n  align-items: center;\n  width: 100vw;\n  min-height: ","px;\n  padding: ","px ","px;\n  padding-left: ","px;\n  background-color: ",";\n  box-shadow: ",";\n"])),s.rS.sizes[0],s.rS.space[2],s.rS.space[5],s.rS.space[7],s.rS.colors.primeBg,s.rS.shadows.prime),m=f.Z.form(u||(u=(0,h.Z)(["\n  display: flex;\n  width: 100%;\n  max-width: ","px;\n  background-color: ",";\n  border-radius: ","px;\n  overflow: hidden;\n"])),s.rS.sizes[7],s.rS.colors.prime,s.rS.radii[1]),x=f.Z.button(l||(l=(0,h.Z)(["\n  display: inline-block;\n  width: ","px;\n  height: ","px;\n  border: ",";\n  background-size: 50%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: ","px;\n  transition: ",";\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: ","px;\n  }\n"])),s.rS.sizes[0],s.rS.sizes[0],s.rS.borders.secondary,s.rS.opacities[0],s.rS.transitions.opacity,s.rS.opacities[1]),b=f.Z.input(p||(p=(0,h.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: ","px;\n  border: none;\n  outline: none;\n  padding: ","px;\n  &::placeholder {\n    font-style: inherit;\n    font-size: ","px;\n  }\n"])),s.rS.fontSizes[4],s.rS.space[1],s.rS.fontSizes[3]),g=t(184);function v(e){var n=e.onSubmit,t=(0,o.useState)(""),i=(0,r.Z)(t,2),s=i[0],c=i[1],u=function(){return c("")};return(0,g.jsx)(S,{children:(0,g.jsxs)(m,{onSubmit:function(e){if(e.preventDefault(),""===s.trim()||s.length<2)return a.Am.warn("Searching must be no empty and more than 1 letter"),void u();n(s),u()},children:[(0,g.jsx)(b,{type:"text",autocomplete:"off",autoFocus:!0,placeholder:"Search movies...",value:s,onChange:function(e){c(e.currentTarget.value.toLowerCase())}}),(0,g.jsx)(x,{type:"submit",style:{backgroundImage:"url(".concat(d,")")}})]})})}var y=(0,o.lazy)((function(){return t.e(647).then(t.bind(t,8647))})),w=function(){var e,n=(0,o.useState)(null),t=(0,r.Z)(n,2),c=t[0],u=t[1],l=(0,o.useState)(JSON.parse(localStorage.getItem("movies"))||null),p=(0,r.Z)(l,2),d=p[0],h=p[1],f=(0,i.lr)(),S=(0,r.Z)(f,2),m=S[0],x=S[1],b=null!==(e=m.get("query"))&&void 0!==e?e:"";(0,o.useEffect)((function(){b&&s.bl.fetchMovieSearch(b).then((function(e){h(e),localStorage.setItem("movies",JSON.stringify(e))})).catch((function(){return a.Am.error("Sorry, there are not details of this movie")}))}),[b]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v,{value:b,onSubmit:function(e){e!==c?(u(e),x({query:e})):a.Am.warn("The new search must be different from the current search")}}),(0,g.jsx)(o.Suspense,{fallback:(0,g.jsx)(s.aN,{}),children:d&&(0,g.jsx)(y,{movies:d})}),(0,g.jsx)(a.Ix,{autoClose:3e3})]})}}}]);
//# sourceMappingURL=167.8495eb41.chunk.js.map